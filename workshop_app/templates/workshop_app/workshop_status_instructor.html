{% extends "workshop_app/base.html" %} {% load static %} {% block title %}
Workshop Status {% endblock %} {% block extra-dependencies %}
<style>
  .container-fluid {
    background-color: #1b5e20;
  }
  .table-heading {
    color: white;
    font-family: Georgia, "Times New Roman", Times, serif;
    font-size: 40px;
    background-color: #9e2c89;
    border-radius: 10px;
  }
  .container {
    margin: 0;
  }
  .image {
    height: 500px;
    width: 100%;
    background-size: cover;
    background-position: center;
    margin-bottom: 20px;
    position: relative;
    transition: background-image 1s ease-in-out;
  }
  .image::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(61, 141, 194, 0.5);
    z-index: 1;
  }
  .imageFont {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 100px;
    font-weight: bold;
    z-index: 2;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  }
  .head {
    text-align: center;
    font-size: 40px;
    font-weight: bold;
    color: #a63a92;
    margin-bottom: 20px;
    font-family: Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
  }
  .modern-table-container {
    background: #674ec0;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  .modern-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 10px;
    font-family: Arial, sans-serif;
  }
  .modern-table thead th {
    padding: 15px;
    text-align: center;
    background: #e8eaf6;
    color: #3f51b5;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    font-weight: bold;
    border: none;
  }
  h3 {
    text-align: center;
    color: #e8f5e9;
  }
  .modern-table tbody tr {
    background: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    margin-bottom: 10px;
  }
  .modern-table tbody tr td {
    padding: 15px;
    border: none;
    text-align: center;
    color: #333;
  }
  .modern-table tbody tr td:first-child {
    background: #f0f4f7;
    font-weight: bold;
    border-radius: 8px 0 0 8px;
  }
  .modern-table tbody tr td:last-child {
    background: #e8f5e9;
    font-weight: bold;
    color: #1b5e20;
    border-radius: 0 8px 8px 0;
  }
  .proposed-table-container .modern-table tbody tr td:last-child {
    background: #fff3e0;
    color: #e65100;
  }
  .badge-success {
    background-color: #4caf50;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
  }
  .badge-warning {
    background-color: #ffc107;
    color: white;
    padding: 5px 10px;
    border-radius: 5px;
  }
  .toggle-button {
    background: linear-gradient(45deg, #1d8b9c, #26a69a);
    color: white;
    padding: 15px 30px;
    border: none;
    border-radius: 25px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    margin: 20px auto;
    display: block;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(29, 139, 156, 0.3);
  }
  .toggle-button:hover {
    background: linear-gradient(45deg, #26a69a, #00897b);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(29, 139, 156, 0.4);
  }
  .toggle-button:active {
    transform: translateY(0);
  }
  .section-hidden {
    display: none;
  }
  .section-visible {
    display: block;
    animation: fadeInUp 0.5s ease;
  }
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .navigation-buttons {
    text-align: center;
    margin: 30px 0;
  }
  .nav-button {
    background: linear-gradient(45deg, #674ec0, #7e57c2);
    color: white;
    padding: 12px 25px;
    border: none;
    border-radius: 20px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s ease;
    box-shadow: 0 3px 10px rgba(103, 78, 192, 0.3);
  }
  .nav-button:hover {
    background: linear-gradient(45deg, #7e57c2, #9c27b0);
    transform: translateY(-1px);
    box-shadow: 0 5px 15px rgba(103, 78, 192, 0.4);
  }
  .nav-button.active {
    background: linear-gradient(45deg, #c54dad, #540f46);
  }

  /* Slideshow indicators*/
  .slideshow-indicators {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 3;
  }

  .indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .indicator.active {
    background-color: white;
    transform: scale(1.2);
  }
</style>
<link
  rel="stylesheet"
  href="{% static 'workshop_app/css/jquery-ui.css' %}"
  type="text/css"
/>
<script src="{% static 'workshop_app/js/jquery-1.12.4.js' %}"></script>
<script src="{% static 'workshop_app/js/jquery-ui.min.js' %}"></script>
{% endblock %} {% block extra-custom-scripts %} {% load static %}
<script src="{% static 'workshop_app/js/datepicker.js' %}"></script>
<script>
  // Image slideshow functionality
  const backgroundImages = [
    "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
    "https://t3.ftcdn.net/jpg/01/68/27/12/360_F_168271253_39awmwyJVB1BdlbYDnUEbzpBQEVWPgdJ.jpg",
    "https://images.unsplash.com/photo-1524178232363-1fb2b075b655?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
    "https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
    "https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
  ];

  let currentImageIndex = 0;

  function changeBackgroundImage() {
    const imageElement = document.querySelector(".image");
    const indicators = document.querySelectorAll(".indicator");
    imageElement.style.backgroundImage = `url('${backgroundImages[currentImageIndex]}')`;
    indicators.forEach((indicator, index) => {
      if (index === currentImageIndex) {
        indicator.classList.add("active");
      } else {
        indicator.classList.remove("active");
      }
    });
    currentImageIndex = (currentImageIndex + 1) % backgroundImages.length;
  }

  function goToImage(index) {
    currentImageIndex = index;
    changeBackgroundImage();
  }
  document.addEventListener("DOMContentLoaded", function () {
    changeBackgroundImage();
    setInterval(changeBackgroundImage, 5000);
  });
  function showAcceptedWorkshops() {
    document
      .getElementById("accepted-section")
      .classList.remove("section-hidden");
    document
      .getElementById("accepted-section")
      .classList.add("section-visible");
    document.getElementById("proposed-section").classList.add("section-hidden");
    document
      .getElementById("proposed-section")
      .classList.remove("section-visible");
    document.getElementById("btn-accepted").classList.add("active");
    document.getElementById("btn-proposed").classList.remove("active");
  }

  function showProposedWorkshops() {
    document
      .getElementById("proposed-section")
      .classList.remove("section-hidden");
    document
      .getElementById("proposed-section")
      .classList.add("section-visible");
    document.getElementById("accepted-section").classList.add("section-hidden");
    document
      .getElementById("accepted-section")
      .classList.remove("section-visible");
    document.getElementById("btn-proposed").classList.add("active");
    document.getElementById("btn-accepted").classList.remove("active");
  }

  function showBothSections() {
    document
      .getElementById("accepted-section")
      .classList.remove("section-hidden");
    document
      .getElementById("accepted-section")
      .classList.add("section-visible");
    document
      .getElementById("proposed-section")
      .classList.remove("section-hidden");
    document
      .getElementById("proposed-section")
      .classList.add("section-visible");
    document.getElementById("btn-accepted").classList.remove("active");
    document.getElementById("btn-proposed").classList.remove("active");
  }

  function changeDate(data) {
  }
</script>
{% endblock %} {% block content %} {% if not workshops %}
<div class="container">
  <div class="jumbotron">
    <h1>Welcome {{ user.first_name }}</h1>
    <p>
      Your workshop related information will be shown here, Please navigate to
      <b>Workshop list</b> and depending upon your expertise and availability
      create a workshop by going to <b>Create Workshop</b>.
    </p>
  </div>
</div>
{% else %}
<div class="container">
  <div class="image">
    <div class="imageFont">FOSSEE WORKSHOPS</div>
    <div class="slideshow-indicators">
      <div class="indicator active" onclick="goToImage(0)"></div>
      <div class="indicator" onclick="goToImage(1)"></div>
      <div class="indicator" onclick="goToImage(2)"></div>
      <div class="indicator" onclick="goToImage(3)"></div>
      <div class="indicator" onclick="goToImage(4)"></div>
    </div>
  </div>
  <div class="head">STATUS OF WORKSHOPS</div>

  <div class="navigation-buttons">
    <button
      id="btn-accepted"
      class="nav-button"
      onclick="showAcceptedWorkshops()"
    >
      Workshops Accepted
    </button>
    <button
      id="btn-proposed"
      class="nav-button"
      onclick="showProposedWorkshops()"
    >
      Workshops Proposed
    </button>
    <button class="nav-button" onclick="showBothSections()">Show All</button>
  </div>

  <div id="accepted-section" class="section-hidden">
    <h3 class="table-heading"><strong>Workshops Accepted</strong></h3>
    <div class="modern-table-container">
      <table class="modern-table">
        <thead>
          <tr>
            <th>Coordinator Name</th>
            <th>Institute Name</th>
            <th>Instructor Name</th>
            <th>Workshop Name</th>
            <th>Workshop Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for workshop in workshops %} {% if workshop.status %}
          <tr>
            <td>
              <a
                href="{% url 'workshop_app:view_profile' workshop.coordinator.id %}"
              >
                {{ workshop.coordinator.get_full_name }}</a
              >
            </td>
            <td>{{ workshop.coordinator.profile.institute }}</td>
            <td>{{ workshop.instructor.get_full_name | capfirst }}</td>
            <td>{{ workshop.workshop_type.name }}</td>
            <td>
              {{ workshop.date | date}} {% if workshop.date > today %}
              <span
                class="material-icons datepicker btn"
                data-toggle="popinfo"
                title="Note"
                data-content="Click here to change date"
                onclick="changeDate('R,{{ workshop.date| safe }}, {{ forloop.counter }}')"
                >event</span
              >
              <div
                class="myDialogR{{ forloop.counter }}"
                style="display: none"
                title="Select New Date"
              >
                <form
                  method="post"
                  action="{% url 'workshop_app:change_workshop_date' workshop.id %}"
                >
                  <input
                    type="text"
                    placeholder="New date"
                    name="new_date"
                    class="rDate{{ forloop.counter }}"
                  /><br />
                  {% csrf_token %}
                  <button class="btn btn-primary btn-xs" type="submit">
                    Save
                  </button>
                </form>
              </div>
              {% endif %}
            </td>
            <td>
              <span class="badge badge-success">{{ workshop.get_status }}</span>
            </td>
          </tr>
          {% endif %} {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <div id="proposed-section" class="section-hidden">
    <h3 class="table-heading">
      <strong>Workshops Proposed By Coordinators</strong>
    </h3>
    <div class="modern-table-container proposed-table-container">
      <table class="modern-table">
        <thead>
          <tr>
            <th>Coordinator Name</th>
            <th>Institute Name</th>
            <th>Workshop Name</th>
            <th>Workshop Day</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% csrf_token %} {% for workshop in workshops %} {% if not
          workshop.status and workshop.tnc_accepted %}
          <tr>
            <td>
              <a
                href="{% url 'workshop_app:view_profile' workshop.coordinator.id %}"
              >
                {{ workshop.coordinator.get_full_name }}</a
              >
            </td>
            <td>{{ workshop.coordinator.profile.institute }}</td>
            <td>{{ workshop.workshop_type }}</td>
            <td>{{ workshop.date | date }}</td>
            <td>
              <span class="badge badge-warning">{{ workshop.get_status }}</span>
            </td>
            <td>
              <a
                href="{% url 'workshop_app:accept_workshop' workshop.id %}"
                class="btn btn-primary btn-sm"
                onclick="return confirm('Once accepted you cannot reject, you have to personally contact the Coordinator if the workshop is to be cancelled. Are you sure you want to accept the workshop?')"
              >
                Accept
              </a>
            </td>
          </tr>
          {% endif %} {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endif %} {% endblock %}
